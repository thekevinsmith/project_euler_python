# Problem 14 : Statement : Longest Collatz sequence
# The following iterative sequence is defined for the set of positive integers:
# n → n/2 (n is even)
# n → 3n + 1 (n is odd)
# Using the rule above and starting with 13, we generate the following sequence:
# 13 → 40 → 20 → 10 → 5 → 16 → 8 → 4 → 2 → 1
# It can be seen that this sequence (starting at 13 and finishing at 1) contains 10 terms.
# Although it has not been proved yet (Collatz Problem),
# it is thought that all starting numbers finish at 1.
# Which starting number, under one million, produces the longest chain?
# NOTE: Once the chain starts the terms are allowed to go above one million.

# Answer
# Longest list: [837799, 2513398, 1256699.0, 3770098.0, 1885049.0, 5655148.0, 2827574.0, 1413787.0, 4241362.0, 2120681.0, 6362044.0, 3181022.0, 1590511.0, 4771534.0, 2385767.0, 7157302.0, 3578651.0, 10735954.0, 5367977.0, 16103932.0, 8051966.0, 4025983.0, 12077950.0, 6038975.0, 18116926.0, 9058463.0, 27175390.0, 13587695.0, 40763086.0, 20381543.0, 61144630.0, 30572315.0, 91716946.0, 45858473.0, 137575420.0, 68787710.0, 34393855.0, 103181566.0, 51590783.0, 154772350.0, 77386175.0, 232158526.0, 116079263.0, 348237790.0, 174118895.0, 522356686.0, 261178343.0, 783535030.0, 391767515.0, 1175302546.0, 587651273.0, 1762953820.0, 881476910.0, 440738455.0, 1322215366.0, 661107683.0, 1983323050.0, 991661525.0, 2974984576.0, 1487492288.0, 743746144.0, 371873072.0, 185936536.0, 92968268.0, 46484134.0, 23242067.0, 69726202.0, 34863101.0, 104589304.0, 52294652.0, 26147326.0, 13073663.0, 39220990.0, 19610495.0, 58831486.0, 29415743.0, 88247230.0, 44123615.0, 132370846.0, 66185423.0, 198556270.0, 99278135.0, 297834406.0, 148917203.0, 446751610.0, 223375805.0, 670127416.0, 335063708.0, 167531854.0, 83765927.0, 251297782.0, 125648891.0, 376946674.0, 188473337.0, 565420012.0, 282710006.0, 141355003.0, 424065010.0, 212032505.0, 636097516.0, 318048758.0, 159024379.0, 477073138.0, 238536569.0, 715609708.0, 357804854.0, 178902427.0, 536707282.0, 268353641.0, 805060924.0, 402530462.0, 201265231.0, 603795694.0, 301897847.0, 905693542.0, 452846771.0, 1358540314.0, 679270157.0, 2037810472.0, 1018905236.0, 509452618.0, 254726309.0, 764178928.0, 382089464.0, 191044732.0, 95522366.0, 47761183.0, 143283550.0, 71641775.0, 214925326.0, 107462663.0, 322387990.0, 161193995.0, 483581986.0, 241790993.0, 725372980.0, 362686490.0, 181343245.0, 544029736.0, 272014868.0, 136007434.0, 68003717.0, 204011152.0, 102005576.0, 51002788.0, 25501394.0, 12750697.0, 38252092.0, 19126046.0, 9563023.0, 28689070.0, 14344535.0, 43033606.0, 21516803.0, 64550410.0, 32275205.0, 96825616.0, 48412808.0, 24206404.0, 12103202.0, 6051601.0, 18154804.0, 9077402.0, 4538701.0, 13616104.0, 6808052.0, 3404026.0, 1702013.0, 5106040.0, 2553020.0, 1276510.0, 638255.0, 1914766.0, 957383.0, 2872150.0, 1436075.0, 4308226.0, 2154113.0, 6462340.0, 3231170.0, 1615585.0, 4846756.0, 2423378.0, 1211689.0, 3635068.0, 1817534.0, 908767.0, 2726302.0, 1363151.0, 4089454.0, 2044727.0, 6134182.0, 3067091.0, 9201274.0, 4600637.0, 13801912.0, 6900956.0, 3450478.0, 1725239.0, 5175718.0, 2587859.0, 7763578.0, 3881789.0, 11645368.0, 5822684.0, 2911342.0, 1455671.0, 4367014.0, 2183507.0, 6550522.0, 3275261.0, 9825784.0, 4912892.0, 2456446.0, 1228223.0, 3684670.0, 1842335.0, 5527006.0, 2763503.0, 8290510.0, 4145255.0, 12435766.0, 6217883.0, 18653650.0, 9326825.0, 27980476.0, 13990238.0, 6995119.0, 20985358.0, 10492679.0, 31478038.0, 15739019.0, 47217058.0, 23608529.0, 70825588.0, 35412794.0, 17706397.0, 53119192.0, 26559596.0, 13279798.0, 6639899.0, 19919698.0, 9959849.0, 29879548.0, 14939774.0, 7469887.0, 22409662.0, 11204831.0, 33614494.0, 16807247.0, 50421742.0, 25210871.0, 75632614.0, 37816307.0, 113448922.0, 56724461.0, 170173384.0, 85086692.0, 42543346.0, 21271673.0, 63815020.0, 31907510.0, 15953755.0, 47861266.0, 23930633.0, 71791900.0, 35895950.0, 17947975.0, 53843926.0, 26921963.0, 80765890.0, 40382945.0, 121148836.0, 60574418.0, 30287209.0, 90861628.0, 45430814.0, 22715407.0, 68146222.0, 34073111.0, 102219334.0, 51109667.0, 153329002.0, 76664501.0, 229993504.0, 114996752.0, 57498376.0, 28749188.0, 14374594.0, 7187297.0, 21561892.0, 10780946.0, 5390473.0, 16171420.0, 8085710.0, 4042855.0, 12128566.0, 6064283.0, 18192850.0, 9096425.0, 27289276.0, 13644638.0, 6822319.0, 20466958.0, 10233479.0, 30700438.0, 15350219.0, 46050658.0, 23025329.0, 69075988.0, 34537994.0, 17268997.0, 51806992.0, 25903496.0, 12951748.0, 6475874.0, 3237937.0, 9713812.0, 4856906.0, 2428453.0, 7285360.0, 3642680.0, 1821340.0, 910670.0, 455335.0, 1366006.0, 683003.0, 2049010.0, 1024505.0, 3073516.0, 1536758.0, 768379.0, 2305138.0, 1152569.0, 3457708.0, 1728854.0, 864427.0, 2593282.0, 1296641.0, 3889924.0, 1944962.0, 972481.0, 2917444.0, 1458722.0, 729361.0, 2188084.0, 1094042.0, 547021.0, 1641064.0, 820532.0, 410266.0, 205133.0, 615400.0, 307700.0, 153850.0, 76925.0, 230776.0, 115388.0, 57694.0, 28847.0, 86542.0, 43271.0, 129814.0, 64907.0, 194722.0, 97361.0, 292084.0, 146042.0, 73021.0, 219064.0, 109532.0, 54766.0, 27383.0, 82150.0, 41075.0, 123226.0, 61613.0, 184840.0, 92420.0, 46210.0, 23105.0, 69316.0, 34658.0, 17329.0, 51988.0, 25994.0, 12997.0, 38992.0, 19496.0, 9748.0, 4874.0, 2437.0, 7312.0, 3656.0, 1828.0, 914.0, 457.0, 1372.0, 686.0, 343.0, 1030.0, 515.0, 1546.0, 773.0, 2320.0, 1160.0, 580.0, 290.0, 145.0, 436.0, 218.0, 109.0, 328.0, 164.0, 82.0, 41.0, 124.0, 62.0, 31.0, 94.0, 47.0, 142.0, 71.0, 214.0, 107.0, 322.0, 161.0, 484.0, 242.0, 121.0, 364.0, 182.0, 91.0, 274.0, 137.0, 412.0, 206.0, 103.0, 310.0, 155.0, 466.0, 233.0, 700.0, 350.0, 175.0, 526.0, 263.0, 790.0, 395.0, 1186.0, 593.0, 1780.0, 890.0, 445.0, 1336.0, 668.0, 334.0, 167.0, 502.0, 251.0, 754.0, 377.0, 1132.0, 566.0, 283.0, 850.0, 425.0, 1276.0, 638.0, 319.0, 958.0, 479.0, 1438.0, 719.0, 2158.0, 1079.0, 3238.0, 1619.0, 4858.0, 2429.0, 7288.0, 3644.0, 1822.0, 911.0, 2734.0, 1367.0, 4102.0, 2051.0, 6154.0, 3077.0, 9232.0, 4616.0, 2308.0, 1154.0, 577.0, 1732.0, 866.0, 433.0, 1300.0, 650.0, 325.0, 976.0, 488.0, 244.0, 122.0, 61.0, 184.0, 92.0, 46.0, 23.0, 70.0, 35.0, 106.0, 53.0, 160.0, 80.0, 40.0, 20.0, 10.0, 5.0, 16.0, 8.0, 4.0, 2.0, 1.0]
# Start at: 837799

def main():
    print()

    longest = []
    for n in range(2, 1000000):
        list = [n]

        while n != 1:

            if n % 2 == 0:  # even
                n = n/2
                list.append(n)

            else:           # uneven
                n = 3*n +1
                list.append(n)

        if len(list) >= len(longest):       # save the chain that is the longest
            longest = list
            print("Longest list: %s" % longest)


if __name__ == '__main__':
    main()